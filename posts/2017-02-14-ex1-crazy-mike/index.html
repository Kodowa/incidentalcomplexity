<!DOCTYPE html>
  
  
  
  
   <html class="no-js"> 

  <head lang="en-us">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=10" />
    <title>Example 1 - Crazy Mike&#39;s - Eve Documentation</title>
    <meta name="generator" content="Hugo 0.19" />

    
    <link rel="canonical" href="http://incidentalcomplexity.com/posts/2017-02-14-ex1-crazy-mike/">
    
    <meta name="author" content="Eve">
    

    <meta property="og:url" content="http://incidentalcomplexity.com/posts/2017-02-14-ex1-crazy-mike/">
    <meta property="og:title" content="Eve Documentation">
    
    <meta name="apple-mobile-web-app-title" content="Eve Documentation">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <link rel="shortcut icon" type="image/x-icon" href="http://incidentalcomplexity.com/images/favicon.png">
    <link rel="icon" type="image/x-icon" href="http://incidentalcomplexity.com/images/favicon.png">

    <style>
      @font-face {
        font-family: 'Icon';
        src: url('http://incidentalcomplexity.com/fonts/icon.eot?52m981');
        src: url('http://incidentalcomplexity.com/fonts/icon.eot?#iefix52m981')
               format('embedded-opentype'),
             url('http://incidentalcomplexity.com/fonts/icon.woff?52m981')
               format('woff'),
             url('http://incidentalcomplexity.com/fonts/icon.ttf?52m981')
               format('truetype'),
             url('http://incidentalcomplexity.com/fonts/icon.svg?52m981#icon')
               format('svg');
        font-weight: normal;
        font-style: normal;
      }
    </style>

    <link rel="stylesheet" href="http://incidentalcomplexity.com/stylesheets/application.css">
    <link rel="stylesheet" href="http://incidentalcomplexity.com/stylesheets/temporary.css">
    <link rel="stylesheet" href="http://incidentalcomplexity.com/stylesheets/palettes.css">
    <link rel="stylesheet" href="http://incidentalcomplexity.com/stylesheets/highlight/highlight.css">

    
    
    
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Ubuntu:400,700|Ubuntu&#43;Mono">
    <style>
      body, input {
        font-family: 'Ubuntu', Helvetica, Arial, sans-serif;
      }
      pre, code {
        font-family: 'Ubuntu Mono', 'Courier New', 'Courier', monospace;
      }
    </style>

    
    <script src="http://incidentalcomplexity.com/javascripts/modernizr.js"></script>

    

  </head>
  <body class=" ">

<div class="layer-wrapper header-wrapper">
  <header class="layer">
    <a href="http://witheve.com">
    <div class="logo">
      <img src="https://witheve.github.io/assets/images/logo_square.png" />
      <h1><img alt="EVE" src="http://incidentalcomplexity.com/images/eve.svg" /></h1>
    </div>
    </a>
    <div class="flex-spacer"></div>
    <nav>
      <a class="btn rounded cta secondary play-cta" href="http://play.witheve.com">Play</a>
      
      <a href="http://incidentalcomplexity.com">Blog</a>
      <a href="http://docs.witheve.com">Docs</a>
      <a href="https://groups.google.com/forum/#!forum/eve-talk">Community</a>
    </nav>
  </header>
</div>


	
	


<main class="main layer-wrapper">
	<div class="toplayer">
		<div class="drawer">
			<div aria-label="Navigation">
  
  <div class="scrollable">
    <div class="wrapper">
      

      
     <a href="">Archive</a>

    </div>
  </div>
</div>
		</div>
		<article class="article">
			<div class="wrapper">

				

<p><em>(Eve is a new programming language, and this is our development blog. If youâ€™re new to Eve, <a href="http://play.witheve.com">start here</a>)</em></p>

<h3 id="what-is-this">What is this?</h3>

<p>This small app is pretty straightforward, consisting of a simple webpage with four subpages. The purpose is to demonstrate some basic webpage structure, show how a navigation bar could be implemented, how it changes the view between the different subpages, and how to inject page contents into the page view as you navigate from one subpage to another.</p>

<p>You can play with this example in your browser <a href="http://play.witheve.com/#gist:0049b5b77a1e01b0124c96c820ff3374-crazy-mikes.eve">here</a>.</p>

<h3 id="page-layout">Page Layout</h3>

<h4 id="containers">Containers</h4>

<p>I want this app to have three containers: a hero image, a nav bar above the page container, and page contents which are going to change depending on the active section. I draw the basic page structure here and worry about details like drawing the individual tabs for the subpages later. The hero image and the nav bar also have their classes set here because their style never changes. The individual pages may require different styles, so their classes are bound later.</p>

<pre><code>commit @browser
  [#div class:&quot;app-wrapper&quot; children:
    [#div class:&quot;hero-image&quot;]
    [#div class:&quot;nav-bar&quot; #nav-bar]
    [#div #page-contents]]
</code></pre>

<h4 id="subpages">Subpages</h4>

<p>Crazy Mike sells a modest selection of repossessed electronics. I can set all the pages the site is going to have right here, and because I separated this from the page containers above, if I want to add another page and have it appear as a tab on the navigation bar, I can simply add it to this list.</p>

<p>Each page has a name, which is displayed as a label on the navigation button; and an order, which indicates its position in the nav bar.</p>

<pre><code>commit
  [#page name: &quot;Home&quot; order: 1]
  [#page name: &quot;Televisions&quot; order: 3]
  [#page name: &quot;Computers&quot; order: 2]
  [#page name: &quot;Stereos&quot; order: 4]
</code></pre>

<h4 id="initial-landing-site">Initial Landing Site</h4>

<p>The #<code>app</code> record is where I&rsquo;ve decided to keep track of which page is being viewed. I&rsquo;ve also set <code>page</code> to <code>homepage</code> to begin with so that new customers will land there when they visit the site.</p>

<pre><code>commit
  [#app page:&quot;Home&quot;]
</code></pre>

<h3 id="the-navigation-bar">The Navigation Bar</h3>

<h4 id="drawing-the-nav-bar">Drawing the Nav Bar</h4>

<p>While the hero image was easy, the nav bar gets its own section because it needs a little more love than a background. It needs to make a button for each page of the website, which were committed in the Subpages section, so I take all the #<code>page</code> records and add a child #<code>div</code> to the #<code>nav-bar</code> for each of them.</p>

<pre><code>search @session @browser
  page = [#page]
  nav-bar = [#nav-bar]

bind @browser
  nav-bar.children += [#div sort: page.order, class:&quot;nav-btn&quot;, page text: page.name]
</code></pre>

<h4 id="navigation">Navigation</h4>

<p>We start on the home page, but when you click a button on the nav bar, we want to navigate to that page. This listens for a click on any nav button, whose record has a page attached to it, then sets the <code>page</code> attribute of the #<code>app</code> record to match the <code>page</code> attribute of the button that was clicked.</p>

<pre><code>search @browser @session @event
  click = [#click element:[#div page class:&quot;nav-btn&quot;]]
  view = [#app]

commit
  view.page := page.name
</code></pre>

<h4 id="highlighting-the-active-page">Highlighting the Active Page</h4>

<p>Purely as a style issue, I want to change the background color of the nav bar button of whichever page we&rsquo;re on. You could also use this block to bind a new class to <code>nav-btn</code> and use CSS to set the new background color, but this is a little more terse without obfuscating the goal.</p>

<pre><code>search @session @browser
  [#app page]
  nav-btn = [#div page class:&quot;nav-btn&quot;]

bind @browser
  nav-btn.style += [background:&quot;#606060&quot;]
</code></pre>

<h3 id="subpages-1">Subpages</h3>

<h4 id="home-page">Home Page</h4>

<p>When the app specifies that we should be looking at the home page, the contents of this block are injected into the #<code>page-contents</code> record that was bound to the browser at the start of the Page Layout section.</p>

<pre><code>search @session @browser
  [#app page: &quot;Home&quot;]
  view = [#page-contents]

bind @browser
  view &lt;- [class: &quot;main-page&quot; children:
    [#h1 text: &quot;Welcome to Crazy Mike's!&quot;]
      [#p text: &quot;Located on the scenic Pulaski Highway in East Baltimore, Crazy Mike's has the region's best selection of used electronics, and our prices are INSANE!&quot;]
    [#p text: &quot;Hours: Tue-Sat 2pm-4am&quot;]
    [#p text: &quot;Contact: (410) 768-7000, Ask for Mike&quot;]]
</code></pre>

<h4 id="computers">Computers</h4>

<p>Much like the home page, when the app specifies that we want to navigate to the Computers tab, we want to inject this page into #<code>page-contents</code>.</p>

<pre><code>search @session @browser
  [#app page: &quot;Computers&quot;]
  view = [#page-contents]

bind @browser
  view &lt;- [class: &quot;main-page&quot; children:
    [#p text: &quot;Need to compute things? We can help.&quot;]
    [#div class:(&quot;computer&quot;, &quot;pic&quot;)]
    [#p text: &quot;One of our many fine products, this War Operations Plan Response supercomputer was repossessed from the US Dept. of Defense in 1984. Comes with classic games such as chess, checkers, backgammon, poker, tic-tac-toe, and Global Thermonuclear War, though it has been known not to play. Open box, comes as-is. Strict no return policy.&quot;]]
</code></pre>

<h4 id="televisions">Televisions</h4>

<p>Once more, when we navigate to the Televisions tab, it gets injected into #<code>page-contents</code>.</p>

<pre><code>search @session @browser
  [#app page: &quot;Televisions&quot;]
  view = [#page-contents]

bind @browser
  view &lt;- [class:&quot;main-page&quot; children:
    [#p text: &quot;This is where the TVs live - get you one!&quot;]
    [#div class: &quot;tv pic&quot;]
    [#p text: &quot;Forget the internet, this baby is the real series of tubes. Perfect for your LaserDisc collection.&quot;]  ]
</code></pre>

<h4 id="stereos">Stereos</h4>

<p>When we navigate to the Stereos tab, it gets injected into #<code>page-contents</code>.</p>

<pre><code>search @session @browser
  [#app page: &quot;Stereos&quot;]
  view = [#page-contents]

bind @browser
  view &lt;- [class: &quot;main-page&quot; children:
    [#p text: &quot;The hottest audio equipment in town!&quot;]
    [#div class: &quot;radio pic&quot;]
    [#p text: &quot;New stock arriving daily, priced to move.&quot;]
  ]
</code></pre>

<h3 id="styles">Styles</h3>

<p>A little CSS to clean things up and make the page more readable.</p>
<div class="highlight"><pre><code class="language-css" data-lang="css"><span></span><span class="p">.</span><span class="nc">app-wrapper</span> <span class="p">{</span>
  <span class="k">display</span><span class="p">:</span> <span class="kc">flex</span><span class="p">;</span>
  <span class="k">flex-direction</span><span class="p">:</span> <span class="kc">column</span><span class="p">;</span>
  <span class="k">position</span><span class="p">:</span> <span class="kc">absolute</span><span class="p">;</span>
  <span class="k">align-self</span><span class="p">:</span> <span class="kc">center</span><span class="p">;</span>
  <span class="k">width</span><span class="p">:</span> <span class="mi">432</span><span class="kt">px</span><span class="p">;</span>
  <span class="k">height</span><span class="p">:</span> <span class="mi">768</span><span class="kt">px</span><span class="p">;</span>
  <span class="k">overflow-y</span><span class="p">:</span> <span class="kc">auto</span><span class="p">;</span>
  <span class="k">background</span><span class="p">:</span> <span class="mh">#fff</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">hero-image</span> <span class="p">{</span>
  <span class="k">height</span><span class="p">:</span> <span class="mi">300</span><span class="kt">px</span><span class="p">;</span>
  <span class="k">background-image</span><span class="p">:</span> <span class="nb">url</span><span class="p">(</span><span class="sx">http://i.imgur.com/L8suaDZ.jpg</span><span class="p">);</span>
  <span class="k">background-size</span><span class="p">:</span> <span class="kc">cover</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">nav-bar</span> <span class="p">{</span>
  <span class="k">display</span><span class="p">:</span> <span class="kc">flex</span><span class="p">;</span>
  <span class="k">flex-direction</span><span class="p">:</span> <span class="kc">row</span><span class="p">;</span>
  <span class="k">width</span><span class="p">:</span> <span class="mi">100</span><span class="kt">%</span><span class="p">;</span>
  <span class="k">height</span><span class="p">:</span> <span class="mi">50</span><span class="kt">px</span><span class="p">;</span>
  <span class="k">align-items</span><span class="p">:</span> <span class="kc">center</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">nav-btn</span> <span class="p">{</span>
  <span class="k">flex</span><span class="p">:</span> <span class="mi">1</span><span class="p">;</span>
  <span class="k">text-align</span><span class="p">:</span> <span class="kc">center</span><span class="p">;</span>
  <span class="k">background</span><span class="p">:</span> <span class="mh">#404040</span><span class="p">;</span>
  <span class="k">line-height</span><span class="p">:</span> <span class="mi">50</span><span class="kt">px</span><span class="p">;</span>
  <span class="k">color</span><span class="p">:</span> <span class="mh">#fff</span><span class="p">;</span>
  <span class="k">user-select</span><span class="p">:</span> <span class="kc">none</span><span class="p">;</span>
  <span class="k">cursor</span><span class="p">:</span> <span class="kc">pointer</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">main-page</span> <span class="p">{</span>
  <span class="k">display</span><span class="p">:</span> <span class="kc">flex</span><span class="p">;</span>
  <span class="k">flex-direction</span><span class="p">:</span> <span class="kc">column</span><span class="p">;</span>
  <span class="k">align-items</span><span class="p">:</span> <span class="kc">center</span><span class="p">;</span>
  <span class="k">padding-top</span><span class="p">:</span> <span class="mi">20</span><span class="kt">px</span><span class="p">;</span>
  <span class="k">background</span><span class="p">:</span> <span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">main-page</span> <span class="nt">h1</span> <span class="p">{</span>
  <span class="k">margin</span><span class="p">:</span> <span class="mi">10</span><span class="kt">px</span> <span class="mi">0</span><span class="kt">px</span><span class="p">;</span>
  <span class="k">font-size</span><span class="p">:</span> <span class="mi">26</span><span class="kt">px</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">main-page</span> <span class="nt">p</span> <span class="p">{</span>
  <span class="k">margin</span><span class="p">:</span> <span class="mi">5</span><span class="kt">px</span> <span class="mi">25</span><span class="kt">px</span><span class="p">;</span>
  <span class="k">font-size</span><span class="p">:</span> <span class="mi">16</span><span class="kt">px</span><span class="p">;</span>
  <span class="k">text-align</span><span class="p">:</span> <span class="kc">center</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">pic</span> <span class="p">{</span>
  <span class="k">margin</span><span class="p">:</span> <span class="mi">20</span><span class="kt">px</span> <span class="mi">0</span><span class="kt">px</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">computer</span> <span class="p">{</span>
  <span class="k">height</span><span class="p">:</span> <span class="mi">150</span><span class="kt">px</span><span class="p">;</span>
  <span class="k">width</span><span class="p">:</span> <span class="mi">320</span><span class="kt">px</span><span class="p">;</span>
  <span class="k">background</span><span class="p">:</span> <span class="nb">url</span><span class="p">(</span><span class="sx">http://i.imgur.com/2EbQYGA.jpg</span><span class="p">)</span> <span class="kc">center</span> <span class="kc">no-repeat</span><span class="p">;</span>
  <span class="k">background-size</span><span class="p">:</span> <span class="kc">cover</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">tv</span> <span class="p">{</span>
  <span class="k">height</span><span class="p">:</span> <span class="mi">250</span><span class="kt">px</span><span class="p">;</span>
  <span class="k">width</span><span class="p">:</span> <span class="mi">320</span><span class="kt">px</span><span class="p">;</span>
  <span class="k">background</span><span class="p">:</span> <span class="nb">url</span><span class="p">(</span><span class="sx">http://i.imgur.com/0kD08WU.jpg</span><span class="p">)</span> <span class="kc">center</span> <span class="kc">no-repeat</span><span class="p">;</span>
  <span class="k">background-size</span><span class="p">:</span> <span class="kc">cover</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">radio</span> <span class="p">{</span>
  <span class="k">height</span><span class="p">:</span> <span class="mi">250</span><span class="kt">px</span><span class="p">;</span>
  <span class="k">width</span><span class="p">:</span> <span class="mi">320</span><span class="kt">px</span><span class="p">;</span>
  <span class="k">background</span><span class="p">:</span> <span class="nb">url</span><span class="p">(</span><span class="sx">http://i.imgur.com/rs1NW31.jpg</span><span class="p">)</span> <span class="kc">center</span> <span class="kc">no-repeat</span><span class="p">;</span>
  <span class="k">background-size</span><span class="p">:</span> <span class="kc">cover</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>


			</div>
		</article>
	</div>
</main>

<div class="layer-wrapper contact-wrapper">
	<section class="contact">
	<a href="http://incidentalcomplexity.com">
		<h3>Blog</h3>
		<p>Read up on new releases, technical musings and more.</p>
	</a>
	<a href="https://groups.google.com/forum/#!forum/eve-talk">
		<h3>Mailing List</h3>
		<p>Chat with the community and team about the future of Eve.</p>
	</a>
	<a href="https://github.com/witheve/eve/issues">
		<h3>GitHub Issues</h3>
		<p>Let us know about any problems you run into using Eve.</p>
	</a>
	</section>
</div>

